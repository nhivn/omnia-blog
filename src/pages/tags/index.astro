---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import PostTag from "../../components/PostTag.astro";
import SocialFooter from "../../components/SocialFooter.astro";

const posts = await getCollection("posts", ({ data }) => data.published);
const uniqueTags = [...new Set(posts.flatMap((p) => p.data.tags))];
---

<BaseLayout title="Tags">
  <main>
    <h3 class="text-xl font-heading font-bold text-gray-900 dark:text-gray-100 mb-4">
      Showing all tags
    </h3>
    <ul class="list-none p-0">
      {uniqueTags.map((tag) => (
        <li class="mb-2">
          <PostTag tag={tag} color="secondary" />
        </li>
      ))}
    </ul>
  </main>
  <SocialFooter />
</BaseLayout>
